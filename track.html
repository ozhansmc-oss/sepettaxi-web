<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>SepetTaxi – Takip</title>

<style>
body{margin:0;font-family:system-ui,sans-serif;background:#0b1220;color:#fff}
.header{padding:14px;background:#0f1a2e}
.card{padding:14px;margin:12px;border-radius:14px;background:#0f1a2e}
.badge{display:inline-block;padding:6px 10px;border-radius:10px;background:#22c55e;color:#000;font-weight:700;font-size:13px}
.label{opacity:.7;font-size:13px}
.value{font-weight:700;margin-bottom:8px}
</style>
</head>

<body>

<div class="header">
  <b>SepetTaxi – Hizmet Takibi</b>
</div>

<div class="card">
  <div class="label">Hizmet</div>
  <div class="value" id="service">—</div>

  <div class="label">Durum</div>
  <div class="badge" id="status">—</div>
</div>

<div class="card">
  <div class="label">Alınacak</div>
  <div class="value" id="pickup">—</div>

  <div class="label">Gidilecek</div>
  <div class="value" id="dropoff">—</div>
</div>

<div class="card">
  <div class="label">Fiyat</div>
  <div class="value" id="price">—</div>
</div>

<script>
const API_URL="https://script.google.com/macros/s/AKfycbxQVqD7w5NC44FfsipHnWhaJYOr0529U429noCGbtwjv2tJnswOACvdRnhX0xPGgV_h/exec";
const params=new URLSearchParams(location.search);
const jobId=params.get("job");

if(!jobId){
  alert("Job bulunamadı");
}else{
  fetch(API_URL+"?action=get_job&job_id="+jobId)
    .then(r=>r.json())
    .then(j=>{
      service.textContent=j.service.toUpperCase();
      status.textContent=j.status;
      pickup.textContent=j.pickup_address;
      dropoff.textContent=j.dropoff_address;
      price.textContent=j.price+" ₺";
    });
}
</script>

</body>
</html>
