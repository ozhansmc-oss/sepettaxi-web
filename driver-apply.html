<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title>SepetTaxi – Sürücü Başvuru</title>
<meta name="theme-color" content="#000000" />
<style>
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:#050506;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial}
  .wrap{max-width:520px;margin:0 auto;padding:18px}
  .card{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:18px;padding:16px;box-shadow:0 20px 60px rgba(0,0,0,.45)}
  h1{margin:6px 0 10px;font-size:20px}
  p{margin:0 0 14px;color:rgba(255,255,255,.7);font-size:13.5px;line-height:1.35}
  input{width:100%;height:50px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);color:#fff;padding:0 12px;font-size:15px;outline:none;margin-top:10px}
  button{width:100%;height:54px;border-radius:999px;border:none;background:linear-gradient(180deg,#ffd84a,#f5c400);color:#0b0b0b;font-weight:900;font-size:18px;cursor:pointer;margin-top:14px}
  .hint{margin-top:12px;color:rgba(255,255,255,.75);font-size:13px}
</style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Sürücü Başvurusu</h1>
      <p>Araç tipi: <b>Ticari Taksi + Kurye</b>. Başvurunuz admin tarafından onaylandıktan sonra sürücü panelini kullanabilirsiniz.</p>

      <input id="name" placeholder="Ad Soyad" />
      <input id="phone" placeholder="Telefon" inputmode="tel" />
      <input id="city" placeholder="Şehir / İlçe (opsiyonel)" />
      <input id="docs" placeholder="Evrak linki (opsiyonel)" />

      <button id="send">Başvuruyu Gönder</button>
      <div class="hint" id="hint"></div>
    </div>
  </div>

<script>
const API = "https://script.google.com/macros/s/AKfycby1ekP3NTaDt0AtRiQG3CrA4iiz9MYLSsWko4mIPsjdUwBWbAJpCp-k250W3O_GnoBxzg/exec";

document.getElementById("send").onclick = async () => {
  const name = document.getElementById("name").value.trim();
  const phone = document.getElementById("phone").value.trim();
  const city = document.getElementById("city").value.trim();
  const docs = document.getElementById("docs").value.trim();
  if (!name || !phone){
    setHint("Ad Soyad ve Telefon zorunlu.");
    return;
  }
  setHint("Gönderiliyor…");
  const res = await postJSON({action:"driverApply", name, phone, city, docs_url: docs});
  if (!res.ok){
    setHint("Hata: " + (res.error||""));
    return;
  }
  setHint("Başvuru alındı. Durum: " + (res.status||"pending") + " (Admin onayı bekleniyor)");
};

function setHint(t){ document.getElementById("hint").textContent = t; }
async function postJSON(body){
  if (!API || API.includes("PASTE_")) return {ok:false, error:"API URL missing"};
  const r = await fetch(API, {method:"POST", headers:{ "Content-Type":"application/json" }, body: JSON.stringify(body)});
  return await r.json();
}
</script>
</body>
</html>
