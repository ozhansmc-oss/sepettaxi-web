<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>SepetTaxi</title>

<meta name="theme-color" content="#f5c400">

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
*{box-sizing:border-box}
html,body{
  margin:0;
  height:100%;
  background:#000;
  color:#fff;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  overflow:hidden;
}
#map{
  position:absolute;
  top:60px;
  left:0;
  right:0;
  height:50vh;
  z-index:1;
}
</style>
</head>
<body>

<div id="topbar" style="
  height:60px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 14px;
  background:#000;
  border-bottom:1px solid #222;
">
  <div id="burger" style="font-size:26px;cursor:pointer">☰</div>
  <div style="font-weight:900">Sepet<span style="color:#f5c400">Taxi</span></div>
  <div></div>
</div>

<div id="map"></div>
  <div id="panel" style="
  position:fixed;
  left:0;
  right:0;
  bottom:0;
  height:40vh;
  background:#0b0b0b;
  border-top:1px solid #222;
  padding:16px;
  color:#fff;
">
  <div style="font-weight:800;margin-bottom:10px">
    Nereye gidiyorsun?
  </div>

  <input id="fromAddr" placeholder="Nereden"
    style="width:100%;height:46px;border-radius:12px;border:none;padding:0 12px;margin-bottom:8px">

  <input id="toAddr" placeholder="Nereye"
    style="width:100%;height:46px;border-radius:12px;border:none;padding:0 12px">

  <button id="callBtn"
    style="margin-top:14px;width:100%;height:52px;border-radius:999px;
    border:none;background:#f5c400;font-weight:900">
    Taksi Çağır
  </button>
</div>

<script>
const API = "https://script.google.com/macros/s/AKfycbz5Qk4OSBwQ1NCf09EGfczk7I8d3pRUSihE6xpb69mFRSf-MfNactwUxEQrNBYh6GcM/exec";

let map;

navigator.geolocation.getCurrentPosition(
  (pos)=>{
    const lat = pos.coords.latitude;
    const lng = pos.coords.longitude;

    map = L.map("map").setView([lat,lng],16);
    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(map);

    L.marker([lat,lng]).addTo(map);
    fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lng}`)
  .then(r => r.json())
  .then(j => {
    document.getElementById("fromAddr").value = j.display_name;
    console.log("Adres:", j.display_name);
  });
  },
  ()=>{
    alert("Konum izni gerekli");
  },
  {enableHighAccuracy:true}
);
  document.getElementById("burger").onclick = () => {
  alert("Menü buraya açılacak (Sürücü Ol / Giriş / Hakkımızda)");
};
  document.getElementById("callBtn").onclick = () => {
  alert("Bir sonraki adım: createJob");
};

</script>
</html>

</body>
