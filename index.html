<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>SepetTaxi</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
*{box-sizing:border-box}
html,body{margin:0;height:100%;font-family:Arial,Helvetica,sans-serif;background:#000;color:#fff}

/* COLORS */
:root{
  --y:#f5c400;
  --card:#141414;
  --line:#222;
}

/* LANDING */
#landing{
  position:fixed;inset:0;
  background:#000 url("assets/landing.png") center/cover no-repeat;
  display:flex;align-items:flex-end;justify-content:center;
  padding:40px;
  z-index:9999;
}
#landing button{
  width:100%;max-width:360px;
  padding:18px;border-radius:999px;
  background:var(--y);border:none;
  font-size:18px;font-weight:900;
  cursor:pointer;
}

/* HEADER */
header{
  height:56px;
  border-bottom:1px solid var(--line);
  display:flex;align-items:center;justify-content:center;
  position:relative;
}
header span{color:var(--y)}
#burger{
  position:absolute;left:16px;
  font-size:24px;cursor:pointer;
}

/* MENU */
#menu{
  position:fixed;top:0;left:-260px;
  width:260px;height:100%;
  background:#000;border-right:1px solid var(--line);
  padding:20px;transition:.3s;
  z-index:3000;
}
#menu.active{left:0}
#menu a{
  display:block;padding:12px 0;
  color:#fff;text-decoration:none;
}

/* MAP */
#map{height:45vh}

/* SERVICES */
.cards{
  display:flex;gap:12px;
  padding:12px;
}
.card{
  flex:1;background:var(--card);
  border-radius:16px;padding:16px;
  text-align:center;cursor:pointer;
  border:2px solid transparent;
}
.card.active{border-color:var(--y)}

/* CALL */
#call{
  margin:12px;
  padding:18px;
  border-radius:999px;
  background:var(--y);
  color:#000;
  text-align:center;
  font-weight:900;
  cursor:pointer;
}

/* MODAL */
.modal{
  position:fixed;inset:0;
  background:rgba(0,0,0,.85);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:4000;
}
.modal.active{display:flex}
.modal .box{
  width:90%;max-width:360px;
  background:#111;
  border-radius:18px;
  padding:16px;
}
.modal input{
  width:100%;
  padding:12px;
  margin-bottom:10px;
  border-radius:10px;
  border:none;
}
.modal button{
  width:100%;
  padding:14px;
  border-radius:999px;
  background:var(--y);
  border:none;
  font-weight:900;
}
.error{
  color:#ff5252;
  font-size:13px;
  margin-bottom:8px;
}
</style>
</head>

<body>

<!-- LANDING -->
<div id="landing">
  <button onclick="startApp()">BAÅžLA</button>
</div>

<!-- MENU -->
<div id="menu">
  <a href="#" onclick="closeMenu()">Ana Sayfa</a>
  <a href="#" onclick="alert('SÃ¼rÃ¼cÃ¼ kayÄ±t ekranÄ± (sonraki adÄ±m)')">SÃ¼rÃ¼cÃ¼ Ol</a>
  <a href="#" onclick="alert('Bilgi sayfasÄ±')">HakkÄ±mÄ±zda</a>
</div>

<!-- HEADER -->
<header>
  <div id="burger" onclick="toggleMenu()">â˜°</div>
  <div><span>Sepet</span>Taxi</div>
</header>

<!-- MAP -->
<div id="map"></div>

<!-- SERVICES -->
<div class="cards">
  <div class="card" onclick="selectService('taksi',this)">ðŸš• Taksi</div>
  <div class="card" onclick="selectService('kurye',this)">ðŸ“¦ Kurye</div>
</div>

<!-- CALL -->
<div id="call" onclick="openRegister()">Ã‡AÄžIR</div>

<!-- REGISTER -->
<div id="register" class="modal">
  <div class="box">
    <div id="regError" class="error"></div>
    <input id="regName" placeholder="Ad">
    <input id="regSurname" placeholder="Soyad">
    <input id="regPhone" placeholder="05XXXXXXXXX">
    <label>
      <input type="checkbox" id="regKvkk"> KVKK kabul
    </label>
    <br><br>
    <button onclick="submitRegister()">KAYDI TAMAMLA</button>
  </div>
</div>

<script>
let map;
let selectedService = null;

function startApp(){
  document.getElementById("landing").style.display="none";
  map = L.map("map").setView([40.195,29.060],13);
  L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(map);
}

function toggleMenu(){
  document.getElementById("menu").classList.toggle("active");
}
function closeMenu(){
  document.getElementById("menu").classList.remove("active");
}

function selectService(type,el){
  selectedService = type;
  document.querySelectorAll(".card").forEach(c=>c.classList.remove("active"));
  el.classList.add("active");
}

function openRegister(){
  if(!selectedService){
    alert("Ã–nce hizmet seÃ§");
    return;
  }
  document.getElementById("register").classList.add("active");
}

function submitRegister(){
  const name = document.getElementById("regName").value.trim();
  const surname = document.getElementById("regSurname").value.trim();
  const phone = document.getElementById("regPhone").value.trim();
  const kvkk = document.getElementById("regKvkk").checked;
  const err = document.getElementById("regError");

  err.innerText = "";

  if(name.length < 2 || surname.length < 2){
    err.innerText = "Ad ve soyad hatalÄ±";
    return;
  }
  if(!/^05\d{9}$/.test(phone)){
    err.innerText = "Telefon 05XXXXXXXXX formatÄ±nda olmalÄ±";
    return;
  }
  if(!kvkk){
    err.innerText = "KVKK kabul edilmelidir";
    return;
  }

  console.log("REGISTER OK", {
    name, surname, phone, selectedService
  });

  document.getElementById("register").classList.remove("active");
  alert("KayÄ±t tamamlandÄ±");
}
</script>

</body>
</html>
